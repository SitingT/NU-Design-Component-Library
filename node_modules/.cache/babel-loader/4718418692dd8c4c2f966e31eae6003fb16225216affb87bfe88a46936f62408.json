{"ast":null,"code":"var _jsxFileName = \"/Users/sitingtang/Desktop/louise-components/src/components/menu/menu.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, createContext } from \"react\";\nimport classNames from \"classnames\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MenuContext = /*#__PURE__*/createContext({\n  index: \"0\"\n});\nexport const Menu = props => {\n  _s();\n  const {\n    className,\n    mode,\n    style,\n    children,\n    defaultIndex,\n    onSelect,\n    defaultOpenSubMenus\n  } = props;\n  const [currentActive, setActive] = useState(defaultIndex);\n  const classes = classNames(\"louise-menu\", className, {\n    \"menu-vertical\": mode === \"vertical\",\n    \"menu-horizontal\": mode !== \"vertical\"\n  });\n  const handleClick = index => {\n    setActive(index);\n    if (onSelect) {\n      onSelect(index);\n    }\n  };\n  const passedContext = {\n    index: currentActive ? currentActive : \"0\",\n    onSelect: handleClick,\n    mode,\n    defaultOpenSubMenus\n  };\n  const renderChildren = () => {\n    return React.Children.map(children, (child, index) => {\n      const childElement = child;\n      const {\n        displayName\n      } = childElement.type;\n      if (displayName === \"MenuItem\" || displayName === \"SubMenu\") {\n        return /*#__PURE__*/React.cloneElement(childElement, {\n          index: index.toString()\n        });\n      } else {\n        console.error(\"Warning: Menu has a child which is not a MenuItem component\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: classes,\n    style: style,\n    \"data-testid\": \"test-menu\",\n    children: /*#__PURE__*/_jsxDEV(MenuContext.Provider, {\n      value: passedContext,\n      children: renderChildren()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Menu, \"2n8DEesYZ+27vSYoCTaMLXV9rvM=\");\n_c = Menu;\nMenu.defaultProps = {\n  defaultIndex: \"0\",\n  mode: \"horizontal\",\n  defaultOpenSubMenus: []\n};\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useState","createContext","classNames","jsxDEV","_jsxDEV","MenuContext","index","Menu","props","_s","className","mode","style","children","defaultIndex","onSelect","defaultOpenSubMenus","currentActive","setActive","classes","handleClick","passedContext","renderChildren","Children","map","child","childElement","displayName","type","cloneElement","toString","console","error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","defaultProps","$RefreshReg$"],"sources":["/Users/sitingtang/Desktop/louise-components/src/components/menu/menu.tsx"],"sourcesContent":["import React, { FC, useState, createContext, CSSProperties } from \"react\";\nimport classNames from \"classnames\";\nimport { MenuItemProps } from \"./menuItem\";\n\ntype MenuMode = \"horizontal\" | \"vertical\";\nexport interface MenuProps {\n  defaultIndex?: string;\n  className?: string;\n  mode?: MenuMode;\n  style?: CSSProperties;\n  onSelect?: (selectedIndex: string) => void;\n  defaultOpenSubMenus?: string[];\n  children?: React.ReactNode;\n}\ninterface IMenuContext {\n  index: string;\n  onSelect?: (selectedIndex: string) => void;\n  mode?: MenuMode;\n  defaultOpenSubMenus?: string[];\n}\n\nexport const MenuContext = createContext<IMenuContext>({ index: \"0\" });\n\nexport const Menu: FC<MenuProps> = (props) => {\n  const {\n    className,\n    mode,\n    style,\n    children,\n    defaultIndex,\n    onSelect,\n    defaultOpenSubMenus,\n  } = props;\n  const [currentActive, setActive] = useState(defaultIndex);\n  const classes = classNames(\"louise-menu\", className, {\n    \"menu-vertical\": mode === \"vertical\",\n    \"menu-horizontal\": mode !== \"vertical\",\n  });\n  const handleClick = (index: string) => {\n    setActive(index);\n    if (onSelect) {\n      onSelect(index);\n    }\n  };\n  const passedContext: IMenuContext = {\n    index: currentActive ? currentActive : \"0\",\n    onSelect: handleClick,\n    mode,\n    defaultOpenSubMenus,\n  };\n  const renderChildren = () => {\n    return React.Children.map(children, (child, index) => {\n      const childElement =\n        child as React.FunctionComponentElement<MenuItemProps>;\n      const { displayName } = childElement.type;\n      if (displayName === \"MenuItem\" || displayName === \"SubMenu\") {\n        return React.cloneElement(childElement, {\n          index: index.toString(),\n        });\n      } else {\n        console.error(\n          \"Warning: Menu has a child which is not a MenuItem component\"\n        );\n      }\n    });\n  };\n  return (\n    <ul className={classes} style={style} data-testid=\"test-menu\">\n      <MenuContext.Provider value={passedContext}>\n        {renderChildren()}\n      </MenuContext.Provider>\n    </ul>\n  );\n};\nMenu.defaultProps = {\n  defaultIndex: \"0\",\n  mode: \"horizontal\",\n  defaultOpenSubMenus: [],\n};\n\nexport default Menu;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAQC,QAAQ,EAAEC,aAAa,QAAuB,OAAO;AACzE,OAAOC,UAAU,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAoBpC,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,CAAe;EAAEK,KAAK,EAAE;AAAI,CAAC,CAAC;AAEtE,OAAO,MAAMC,IAAmB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC5C,MAAM;IACJC,SAAS;IACTC,IAAI;IACJC,KAAK;IACLC,QAAQ;IACRC,YAAY;IACZC,QAAQ;IACRC;EACF,CAAC,GAAGR,KAAK;EACT,MAAM,CAACS,aAAa,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAACc,YAAY,CAAC;EACzD,MAAMK,OAAO,GAAGjB,UAAU,CAAC,aAAa,EAAEQ,SAAS,EAAE;IACnD,eAAe,EAAEC,IAAI,KAAK,UAAU;IACpC,iBAAiB,EAAEA,IAAI,KAAK;EAC9B,CAAC,CAAC;EACF,MAAMS,WAAW,GAAId,KAAa,IAAK;IACrCY,SAAS,CAACZ,KAAK,CAAC;IAChB,IAAIS,QAAQ,EAAE;MACZA,QAAQ,CAACT,KAAK,CAAC;IACjB;EACF,CAAC;EACD,MAAMe,aAA2B,GAAG;IAClCf,KAAK,EAAEW,aAAa,GAAGA,aAAa,GAAG,GAAG;IAC1CF,QAAQ,EAAEK,WAAW;IACrBT,IAAI;IACJK;EACF,CAAC;EACD,MAAMM,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOvB,KAAK,CAACwB,QAAQ,CAACC,GAAG,CAACX,QAAQ,EAAE,CAACY,KAAK,EAAEnB,KAAK,KAAK;MACpD,MAAMoB,YAAY,GAChBD,KAAsD;MACxD,MAAM;QAAEE;MAAY,CAAC,GAAGD,YAAY,CAACE,IAAI;MACzC,IAAID,WAAW,KAAK,UAAU,IAAIA,WAAW,KAAK,SAAS,EAAE;QAC3D,oBAAO5B,KAAK,CAAC8B,YAAY,CAACH,YAAY,EAAE;UACtCpB,KAAK,EAAEA,KAAK,CAACwB,QAAQ;QACvB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLC,OAAO,CAACC,KAAK,CACX,6DAA6D,CAC9D;MACH;IACF,CAAC,CAAC;EACJ,CAAC;EACD,oBACE5B,OAAA;IAAIM,SAAS,EAAES,OAAQ;IAACP,KAAK,EAAEA,KAAM;IAAC,eAAY,WAAW;IAAAC,QAAA,eAC3DT,OAAA,CAACC,WAAW,CAAC4B,QAAQ;MAACC,KAAK,EAAEb,aAAc;MAAAR,QAAA,EACxCS,cAAc;IAAE;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACI;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACpB;AAET,CAAC;AAAC7B,EAAA,CAlDWF,IAAmB;AAAAgC,EAAA,GAAnBhC,IAAmB;AAmDhCA,IAAI,CAACiC,YAAY,GAAG;EAClB1B,YAAY,EAAE,GAAG;EACjBH,IAAI,EAAE,YAAY;EAClBK,mBAAmB,EAAE;AACvB,CAAC;AAED,eAAeT,IAAI;AAAC,IAAAgC,EAAA;AAAAE,YAAA,CAAAF,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}